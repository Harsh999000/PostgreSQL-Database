# ================================
# PostgreSQL basic configuration
# ================================

# ----------------
# Network & connections
# ----------------
listen_addresses = 'localhost'
port = xxxx
max_connections = xxx

# ----------------
# Data directory
# ----------------
data_directory = '/db1/myserver/postgresql/data'

# ----------------
# Unix socket & PID
# ----------------
unix_socket_directories = '/db1/myserver/postgresql/run'
external_pid_file = '/db1/myserver/postgresql/run/postgresql.pid'

# ----------------
# Logging (IMPORTANT SECTION)
# ----------------

# Enable PostgreSQL logging system
logging_collector = on

# Where logs go (runtime logs, NOT bootstrap)
log_directory = '/db1/myserver/postgresql/logs'

# Day-wise general log
log_filename = 'postgresql-%Y-%m-%d.log'

# Permissions (owner-only, safe)
log_file_mode = 0600

# Timezone used in logs
log_timezone = 'Asia/Kolkata'

# Log format / context
# %m = timestamp
# %p = PID
# %u = user
# %d = database
# %h = client host
log_line_prefix = '%m [%p] %u@%d %h '

# What to log
log_min_messages = warning
log_min_error_statement = error

# Connection lifecycle (useful while learning)
log_connections = on
log_disconnections = on

# ----------------
# Memory (defaults for now)
# ----------------
shared_buffers = 128MB

# ----------------
# Locale & time
# ----------------
timezone = 'Asia/Kolkata'

# ----------------
# Authentication config
# ----------------
hba_file = '/db1/myserver/postgresql/config/pg_hba.conf'
